{"version":3,"sources":["webpack:///webpack/bootstrap d1519e1b5d78912fb3ba","webpack:///./lib/pieces/base_piece.js","webpack:///./lib/util.js","webpack:///./lib/game.js","webpack:///./lib/board.js","webpack:///./lib/pieces/i_piece.js","webpack:///./lib/pieces/j_piece.js","webpack:///./lib/pieces/l_piece.js","webpack:///./lib/pieces/o_piece.js","webpack:///./lib/pieces/s_piece.js","webpack:///./lib/pieces/t_piece.js","webpack:///./lib/pieces/z_piece.js","webpack:///./lib/tetris.js"],"names":["BasePiece","grid","startPos","blocks","finalMove","gameOver","allPositions","getPositions","rotation","drawCondition","bind","drawConditionDown","i","length","pos","posX","BOARD_X","BLOCK_WIDTH","posY","BOARD_Y","letter","circleNum","sideX","sideY","sideDelta","x","y","stage","update","direction","generalMove","rotate","slam","move","index","posDelta","blocksDelta","conditionMethod","previousPositions","updateBlocks","outOfBounds","tooClose","document","removeEventListener","handleKeydown","setPositionsOnGrid","finalizeBlocks","row","col","onTopOfBlock","delta","BLOCK_HEIGHT","deltas","getDeltas","updateAllPositions","updateRotationBlocks","copyArr","outsideGrid","drawBlock","createPiece","RUNNING","PAUSED","UNINITIALIZED","GAMEOVER","positions","newArr","slice","block","createjs","Bitmap","graphics","clear","visible","image","onload","addChild","PIECES","DIRECTIONS","getRandomType","Math","floor","random","type","Game","board","startScreen","querySelector","pauseScreen","startInterval","music","getElementsByTagName","handleClick","bg","Image","src","backgroundRect","Shape","beginBitmapFill","drawRect","CANVAS_WIDTH","CANVAS_HEIGHT","removeLoadingScreen","showStartScreen","play","parentElement","addEventListener","e","status","init","hideStartScreen","pause","hideBoard","showPauseScreen","resume","showBoard","hidePauseScreen","endGame","hideGameOverScreen","removeBoardFromStage","key","paused","classList","remove","add","setInterval","Array","from","includes","clearInterval","children","removeChild","Board","currentPiece","window","completionInterval","descendInterval","scoreInterval","nextThree","setupGrid","currentScore","lastScore","backToBackTetris","currentSpeed","scoreDiv","innerText","j","draw","drawSideCircles","getNextThreePieces","addEventListeners","handlePieceCompletion","descendCurrentPiece","updateScoreInterval","piece","push","drawSide","nextPiece","shift","moveToCircle","lastPiece","circle1","beginFill","drawCircle","circle2","circle3","clearLines","getNextPiece","moveSideToTop","Graphics","BOARD_WIDTH","BOARD_HEIGHT","boardRect","code","preventDefault","linesCleared","shouldClearLine","clearLine","updateScore","points","level","clearLineThenBringDown","cascade","Promise","res","whiteBlocks","whiteBlock","drawWhiteBlock","clearWhiteBlocks","moveEverythingDown","then","resolve","setTimeout","clearedRow","oldBlock","beginStroke","IPiece","JPiece","LPiece","SPiece","TPiece","ZPiece","Stage"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;AChEA;;;;IAOqBA,S;AACnB,qBAAaC,IAAb,EAAmB;AAAA;;AACjB,SAAKC,QAAL,GAAgB,CAAC,CAAC,CAAF,EAAK,CAAL,CAAhB;AACA,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKE,MAAL,GAAc,EAAd;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,YAAL,GAAoB,KAAKC,YAAL,CAAkB,KAAKL,QAAvB,CAApB;AACA,SAAKM,QAAL,GAAgB,CAAhB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;AACD;;;;2BAGO;AACN,WAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,YAAME,MAAM,KAAKR,YAAL,CAAkBM,CAAlB,CAAZ;AACA,YAAMG,OAAOC,UAAUF,IAAI,CAAJ,IAASG,WAAhC;AACA,YAAMC,OAAOC,UAAUL,IAAI,CAAJ,IAASG,WAAhC;AACA,aAAKd,MAAL,CAAYS,CAAZ,IAAiB,qBAAUG,IAAV,EAAgBG,IAAhB,EAAsB,KAAKE,MAA3B,CAAjB;AACD;AACF;;;6BAEQC,S,EAAW;AAClB,WAAK,IAAIT,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,YAAME,MAAM,KAAKR,YAAL,CAAkBM,CAAlB,CAAZ;AACA,YAAMG,OAAO,KAAKO,KAAL,GAAaR,IAAI,CAAJ,IAASG,WAAnC;AACA,YAAMC,OAAO,KAAKK,KAAL,GAAa,KAAKC,SAAL,GAAiBH,SAA9B,GAA0CP,IAAI,CAAJ,IAASG,WAAhE;AACA,aAAKd,MAAL,CAAYS,CAAZ,IAAiB,qBAAUG,IAAV,EAAgBG,IAAhB,EAAsB,KAAKE,MAA3B,CAAjB;AACD;AACF;;;iCAEaC,S,EAAW;AACvB,WAAK,IAAIT,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,YAAME,MAAM,KAAKR,YAAL,CAAkBM,CAAlB,CAAZ;AACA,aAAKT,MAAL,CAAYS,CAAZ,EAAea,CAAf,GAAmB,KAAKH,KAAL,GAAaR,IAAI,CAAJ,IAASG,WAAzC;AACA,aAAKd,MAAL,CAAYS,CAAZ,EAAec,CAAf,GAAmB,KAAKH,KAAL,GAAa,KAAKC,SAAL,GAAiBH,SAA9B,GAA0CP,IAAI,CAAJ,IAASG,WAAtE;AACD;AACDU,YAAMC,MAAN;AACD;;;oCAEgB;AACf,WAAK,IAAIhB,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,YAAME,MAAM,KAAKR,YAAL,CAAkBM,CAAlB,CAAZ;AACA,aAAKT,MAAL,CAAYS,CAAZ,EAAea,CAAf,GAAmBT,UAAUF,IAAI,CAAJ,IAASG,WAAtC;AACA,aAAKd,MAAL,CAAYS,CAAZ,EAAec,CAAf,GAAmBP,UAAUL,IAAI,CAAJ,IAASG,WAAtC;AACD;AACDU,YAAMC,MAAN;AACD;;;yBAEKC,S,EAAW;AACf,cAAQA,SAAR;AACE,aAAK,WAAL;AACE,eAAKC,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAC,CAAD,EAAI,CAAJ,CAAvB,EAA+B,KAAKnB,iBAApC;AACA;AACF,aAAK,YAAL;AACE,eAAKmB,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAC,CAAD,EAAI,CAAJ,CAAvB,EAA+B,KAAKrB,aAApC;AACA;AACF,aAAK,WAAL;AACE,eAAKqB,WAAL,CAAiB,CAAjB,EAAoB,CAAC,CAArB,EAAwB,CAAC,CAAC,CAAF,EAAK,CAAL,CAAxB,EAAiC,KAAKrB,aAAtC;AACA;AACF,aAAK,SAAL;AACE,eAAKsB,MAAL;AACA;AACF,aAAK,OAAL;AACE,eAAKC,IAAL;AACA;AACF;AACE;AAjBJ;AAmBD;;;2BAEO;AACN,aAAO,CAAC,KAAK5B,SAAb,EAAwB;AACtB,aAAK6B,IAAL,CAAU,WAAV;AACD;AACF;;;gCAEYC,K,EAAOC,Q,EAAUC,W,EAAaC,e,EAAiB;AAC1D,UAAMC,oBAAoB,mBAAQ,KAAKhC,YAAb,CAA1B;;AAEA,WAAK,IAAIM,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,aAAKN,YAAL,CAAkBM,CAAlB,EAAqBsB,KAArB,KAA+BC,QAA/B;AACD;;AAED,UAAIE,gBAAgBC,iBAAhB,CAAJ,EAAwC;AACtC;AACD;;AAED,WAAKC,YAAL,CAAkBH,WAAlB;AACD;;;kCAEcE,iB,EAAmB;AAChC,UAAI,KAAKE,WAAL,EAAJ,EAAwB;AACtB,aAAKlC,YAAL,GAAoBgC,iBAApB;AACA,eAAO,IAAP;AACD;;AAED,aAAO,KAAP;AACD;;;sCAEkBA,iB,EAAmB;AACpC,UAAI,KAAKG,QAAL,EAAJ,EAAqB;AACnB,aAAKnC,YAAL,GAAoBgC,iBAApB;AACAI,iBAASC,mBAAT,CAA6B,SAA7B,EAAwCC,aAAxC;AACA,aAAKC,kBAAL;AACA,aAAKC,cAAL;AACA,aAAK1C,SAAL,GAAiB,IAAjB;AACA,eAAO,IAAP;AACD,OAPD,MAOO,IAAI,KAAKoC,WAAL,EAAJ,EAAwB;AAC7B,aAAKlC,YAAL,GAAoBgC,iBAApB;AACA,eAAO,IAAP;AACD;AACF;;;kCAEc;AACb,WAAK,IAAI1B,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,YAAImC,MAAM,KAAKzC,YAAL,CAAkBM,CAAlB,EAAqB,CAArB,CAAV;AACA,YAAIoC,MAAM,KAAK1C,YAAL,CAAkBM,CAAlB,EAAqB,CAArB,CAAV;AACA,YAAI,uBAAYmC,GAAZ,EAAiBC,GAAjB,CAAJ,EAA2B;AACzB,iBAAO,IAAP;AACD;AACD,YAAI,KAAKC,YAAL,CAAkBF,GAAlB,EAAuBC,GAAvB,CAAJ,EAAiC;AAC/B,iBAAO,IAAP;AACD;AACF;AACD,aAAO,KAAP;AACD;;;+BAEW;AACV,WAAK,IAAIpC,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,YAAImC,MAAM,KAAKzC,YAAL,CAAkBM,CAAlB,EAAqB,CAArB,CAAV;AACA,YAAIoC,MAAM,KAAK1C,YAAL,CAAkBM,CAAlB,EAAqB,CAArB,CAAV;AACA,YAAImC,MAAM,CAAV,EAAa;AACX;AACD,SAFD,MAEO,IAAIA,OAAO,EAAP,IAAa,KAAK9C,IAAL,CAAU8C,GAAV,EAAeC,GAAf,CAAjB,EAAsC;AAC3C,iBAAO,IAAP;AACD;AACF;AACD,aAAO,KAAP;AACD;;;iCAEaD,G,EAAKC,G,EAAK;AACtB,UAAI,KAAK/C,IAAL,CAAU8C,GAAV,KAAkB,KAAK9C,IAAL,CAAU8C,GAAV,EAAeC,GAAf,CAAtB,EAA2C;AACzC,eAAO,IAAP;AACD;AACF;;;iCAEaE,K,EAAO;AACnB,WAAK,IAAItC,IAAI,CAAb,EAAgBA,IAAI,KAAKT,MAAL,CAAYU,MAAhC,EAAwCD,GAAxC,EAA6C;AAC3C,aAAKT,MAAL,CAAYS,CAAZ,EAAea,CAAf,IAAoBR,cAAciC,MAAM,CAAN,CAAlC;AACA,aAAK/C,MAAL,CAAYS,CAAZ,EAAec,CAAf,IAAoByB,eAAeD,MAAM,CAAN,CAAnC;AACD;AACDvB,YAAMC,MAAN;AACD;;;qCAEiB;AAChB,WAAK,IAAIhB,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,YAAME,MAAM,KAAKR,YAAL,CAAkBM,CAAlB,CAAZ;AACA,YAAMG,OAAOC,UAAUF,IAAI,CAAJ,IAASG,WAAhC;AACA,YAAMC,OAAOC,UAAUL,IAAI,CAAJ,IAASqC,YAAhC;AACA,aAAKhD,MAAL,CAAYS,CAAZ,EAAea,CAAf,GAAmBV,IAAnB;AACA,aAAKZ,MAAL,CAAYS,CAAZ,EAAec,CAAf,GAAmBR,IAAnB;AACD;AACF;;;yCAEqB;AACpB,WAAK,IAAIN,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,YAAMmC,MAAM,KAAKzC,YAAL,CAAkBM,CAAlB,EAAqB,CAArB,CAAZ;AACA,YAAMoC,MAAM,KAAK1C,YAAL,CAAkBM,CAAlB,EAAqB,CAArB,CAAZ;AACA,YAAI,CAAC,KAAKX,IAAL,CAAU8C,GAAV,CAAL,EAAqB;AACnB,eAAK1C,QAAL,GAAgB,IAAhB;AACA;AACD;AACD,aAAKJ,IAAL,CAAU8C,GAAV,EAAeC,GAAf,IAAsB,KAAK7C,MAAL,CAAYS,CAAZ,CAAtB;AACD;AACF;;;6BAGS;AACR,UAAM0B,oBAAoB,mBAAQ,KAAKhC,YAAb,CAA1B;AACA,UAAM8C,SAAS,KAAKC,SAAL,EAAf;;AAEA,WAAKC,kBAAL,CAAwBF,MAAxB;;AAEA,UAAI,KAAK3C,aAAL,CAAmB6B,iBAAnB,CAAJ,EAA2C;AACzC;AACD;;AAED,WAAK9B,QAAL,GAAgB,CAAC,KAAKA,QAAL,GAAgB,EAAjB,IAAuB,GAAvC;AACA,WAAK+C,oBAAL,CAA0BH,MAA1B;AACD;;;uCAEkBA,M,EAAQ;AACzB,WAAK,IAAIxC,IAAI,CAAb,EAAgBA,IAAI,KAAKN,YAAL,CAAkBO,MAAtC,EAA8CD,GAA9C,EAAmD;AACjD,aAAKN,YAAL,CAAkBM,CAAlB,EAAqB,CAArB,KAA2BwC,OAAOxC,CAAP,EAAU,CAAV,CAA3B;AACA,aAAKN,YAAL,CAAkBM,CAAlB,EAAqB,CAArB,KAA2BwC,OAAOxC,CAAP,EAAU,CAAV,CAA3B;AACD;AACF;;;yCAEqBwC,M,EAAQ;AAC5B,WAAK,IAAIxC,IAAI,CAAb,EAAgBA,IAAI,KAAKT,MAAL,CAAYU,MAAhC,EAAwCD,GAAxC,EAA6C;AAC3C,aAAKT,MAAL,CAAYS,CAAZ,EAAea,CAAf,IAAoBR,cAAcmC,OAAOxC,CAAP,EAAU,CAAV,CAAlC;AACA,aAAKT,MAAL,CAAYS,CAAZ,EAAec,CAAf,IAAoByB,eAAeC,OAAOxC,CAAP,EAAU,CAAV,CAAnC;AACD;;AAEDe,YAAMC,MAAN;AACD;;;;;;kBA/MkB5B,S;;;;;;;;;;;;;QCMLwD,O,GAAAA,O;QAUAC,W,GAAAA,W;QAOAC,S,GAAAA,S;QAiCAC,W,GAAAA,W;;AA/DhB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEO,IAAMC,4BAAU,SAAhB;AACA,IAAMC,0BAAS,QAAf;AACA,IAAMC,wCAAgB,eAAtB;AACA,IAAMC,8BAAW,UAAjB;;AAEA,SAASP,OAAT,CAAkBQ,SAAlB,EAA6B;AAClC,MAAMC,SAAS,EAAf;;AAEA,OAAK,IAAIrD,IAAI,CAAb,EAAgBA,IAAIoD,UAAUnD,MAA9B,EAAsCD,GAAtC,EAA2C;AACzCqD,WAAOrD,CAAP,IAAYoD,UAAUpD,CAAV,EAAasD,KAAb,EAAZ;AACD;;AAED,SAAOD,MAAP;AACD;;AAEM,SAASR,WAAT,CAAsBV,GAAtB,EAA2BC,GAA3B,EAAgC;AACrC,MAAID,MAAM,EAAN,IAAYC,MAAM,CAAlB,IAAuBA,MAAM,CAAjC,EAAoC;AAClC,WAAO,IAAP;AACD;AACD,SAAO,KAAP;AACD;;AAEM,SAASU,SAAT,CAAoB3C,IAApB,EAA0BG,IAA1B,EAAgCE,MAAhC,EAAwC;AAC7C,MAAM+C,QAAQ,IAAIC,SAASC,MAAb,eAAgCjD,MAAhC,gBAAd;;AAEA+C,QAAMG,QAAN,GAAiB,EAAjB;AACAH,QAAMG,QAAN,CAAeC,KAAf,GAAuB,YAAM;AAC3BJ,UAAMK,OAAN,GAAgB,KAAhB;AACD,GAFD;;AAIAL,QAAMM,KAAN,CAAYC,MAAZ,GAAqB,YAAM;AACzBP,UAAM1C,CAAN,GAAUV,IAAV;AACAoD,UAAMzC,CAAN,GAAUR,IAAV;;AAEAS,UAAMgD,QAAN,CAAeR,KAAf;AACAxC,UAAMC,MAAN;AACD,GAND;;AAQA,SAAOuC,KAAP;AACD;;AAED,IAAMS,SAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CAAf;AACO,IAAMC,kCAAa,CACxB,WADwB,EAExB,YAFwB,EAGxB,SAHwB,EAIxB,WAJwB,EAKxB,OALwB,CAAnB;;AAQP,SAASC,aAAT,GAA0B;AACxB,MAAM5C,QAAQ6C,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,CAA3B,CAAd;AACA,SAAOL,OAAO1C,KAAP,CAAP;AACD;;AAEM,SAASyB,WAAT,CAAsB1D,IAAtB,EAA4BiF,IAA5B,EAAkC;AACvC,MAAI,CAACA,IAAL,EAAW;AACTA,WAAOJ,eAAP;AACD;AACD;;AAEA,UAAQI,IAAR;AACE,SAAK,GAAL;AACE,aAAO,sBAAWjF,IAAX,CAAP;AACF,SAAK,GAAL;AACE,aAAO,sBAAWA,IAAX,CAAP;AACF,SAAK,GAAL;AACE,aAAO,sBAAWA,IAAX,CAAP;AACF,SAAK,GAAL;AACE,aAAO,sBAAWA,IAAX,CAAP;AACF,SAAK,GAAL;AACE,aAAO,sBAAWA,IAAX,CAAP;AACF,SAAK,GAAL;AACE,aAAO,sBAAWA,IAAX,CAAP;AACF,SAAK,GAAL;AACE,aAAO,sBAAWA,IAAX,CAAP;AACF;AACE;AAhBJ;AAkBD,C;;;;;;;;;;;;;;;ACvFD;;;;AACA;;;;;;IAEqBkF,I;AACnB,kBAAe;AAAA;;AACb;AACA,SAAKC,KAAL,GAAa,qBAAb;AACA,SAAKC,WAAL,GAAmB3C,SAAS4C,aAAT,CAAuB,QAAvB,CAAnB;AACA,SAAKC,WAAL,GAAmB7C,SAAS4C,aAAT,CAAuB,QAAvB,CAAnB;AACA,SAAKE,aAAL,GAAqB,IAArB;AACA,SAAKC,KAAL,GAAa/C,SAASgD,oBAAT,CAA8B,OAA9B,EAAuC,CAAvC,CAAb;;AAEA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBjF,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKkC,aAAL,GAAqB,KAAKA,aAAL,CAAmBlC,IAAnB,CAAwB,IAAxB,CAArB;AACD;;;;2BAEO;AAAA;;AACN,UAAMkF,KAAK,IAAIC,KAAJ,EAAX;AACAD,SAAGE,GAAH,GAAS,yBAAT;AACAF,SAAGlB,MAAH,GAAY,YAAM;AAChB,YAAMqB,iBAAiB,IAAI3B,SAAS4B,KAAb,EAAvB;AACAD,uBAAezB,QAAf,CAAwB2B,eAAxB,CAAwCL,EAAxC,EACCM,QADD,CACU,CADV,EACa,CADb,EACgBC,YADhB,EAC8BC,aAD9B;AAEAzE,cAAMgD,QAAN,CAAeoB,cAAf;AACApE,cAAMC,MAAN;AACA,cAAKyE,mBAAL;AACA,cAAKC,eAAL;AACA,cAAKb,KAAL,CAAWc,IAAX;;AAEA,cAAKlB,WAAL,CAAiBmB,aAAjB,CAA+BC,gBAA/B,CAAgD,OAAhD,EAAyD,MAAKd,WAA9D;AACAjD,iBAAS+D,gBAAT,CAA0B,SAA1B,EAAqC,MAAK7D,aAA1C;AACD,OAZD;AAaD;;;gCAEY8D,C,EAAG;AACZ,cAAQ,KAAKtB,KAAL,CAAWuB,MAAnB;AACE;AACE,eAAKvB,KAAL,CAAWwB,IAAX;AACA,eAAKC,eAAL;AACA;AACF;AACE,eAAKzB,KAAL,CAAW0B,KAAX;AACA,eAAKC,SAAL;AACA,eAAKC,eAAL;AACA;AACF;AACE,eAAK5B,KAAL,CAAW6B,MAAX;AACA,eAAKC,SAAL;AACA,eAAKC,eAAL;AACA;AACF;AACE,eAAK/B,KAAL,CAAWgC,OAAX;AACA,eAAKD,eAAL;AACA,eAAKN,eAAL;AACA,eAAKQ,kBAAL;AACA,eAAKC,oBAAL;AACA,eAAKlC,KAAL,GAAa,qBAAb;AACA,eAAKA,KAAL,CAAWwB,IAAX;AACA;AACF;AACE;AAzBJ;AA2BH;;;kCAEcF,C,EAAG;AAChB,UAAIA,EAAEa,GAAF,KAAU,GAAd,EAAmB;AACjB,YAAI,KAAKnC,KAAL,CAAWuB,MAAX,wBAAJ,EAAyC;AACvC,eAAKvB,KAAL,CAAWgC,OAAX;AACA,eAAKD,eAAL;AACA,eAAKN,eAAL;AACA,eAAKQ,kBAAL;AACA,eAAKC,oBAAL;AACA,eAAKlC,KAAL,GAAa,qBAAb;AACA,eAAKA,KAAL,CAAWwB,IAAX;AACD;AACF,OAVD,MAUO,IAAIF,EAAEa,GAAF,KAAU,GAAd,EAAmB;AACxB,YAAI,KAAKnC,KAAL,CAAWuB,MAAX,wBAAJ,EAAyC;AACvC,eAAKvB,KAAL,CAAWgC,OAAX;AACA,eAAKD,eAAL;AACA,eAAKN,eAAL;AACA,eAAKQ,kBAAL;AACA,eAAKN,SAAL;AACA,eAAKO,oBAAL;AACA,eAAKlC,KAAL,GAAa,qBAAb;AACA,eAAKkB,eAAL;AACD;AACF;;AAED,UAAII,EAAEa,GAAF,KAAU,GAAd,EAAmB;AACjB,aAAK9B,KAAL,CAAW+B,MAAX,GAAoB,KAAK/B,KAAL,CAAWc,IAAX,EAApB,GAAwC,KAAKd,KAAL,CAAWqB,KAAX,EAAxC;AACD;AACF;;;sCAEkB;AAAA;;AACjB,WAAK,IAAIlG,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B8B,iBAAS4C,aAAT,aAAiC1E,CAAjC,WAA0C6G,SAA1C,CAAoDC,MAApD,CAA2D,WAA3D;AACD;AACD,WAAKrC,WAAL,CAAiBmB,aAAjB,CAA+BiB,SAA/B,CAAyCE,GAAzC,CAA6C,eAA7C;;AAEA,WAAKnC,aAAL,GAAqBoC,YAAY,YAAM;AACrC,YAAIC,MAAMC,IAAN,CAAW,OAAKzC,WAAL,CAAiBoC,SAA5B,EAAuCM,QAAvC,CAAgD,UAAhD,CAAJ,EAAiE;AAC/D,iBAAK1C,WAAL,CAAiBoC,SAAjB,CAA2BC,MAA3B,CAAkC,UAAlC;AACD,SAFD,MAEO;AACL,iBAAKrC,WAAL,CAAiBoC,SAAjB,CAA2BE,GAA3B,CAA+B,UAA/B;AACD;AACF,OANoB,EAMlB,GANkB,CAArB;AAOD;;;sCAEkB;AACjB,WAAKtC,WAAL,CAAiBmB,aAAjB,CAA+BiB,SAA/B,CAAyCC,MAAzC,CAAgD,eAAhD;AACAM,oBAAc,KAAKxC,aAAnB;AACA,WAAKH,WAAL,CAAiBoC,SAAjB,CAA2BE,GAA3B,CAA+B,UAA/B;AACA,WAAK,IAAI/G,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B8B,iBAAS4C,aAAT,aAAiC1E,CAAjC,WAA0C6G,SAA1C,CAAoDE,GAApD,CAAwD,WAAxD;AACD;AACF;;;sCAEkB;AACjB,WAAKpC,WAAL,CAAiBkC,SAAjB,CAA2BC,MAA3B,CAAkC,UAAlC;AACD;;;sCAEkB;AACjB,WAAKnC,WAAL,CAAiBkC,SAAjB,CAA2BE,GAA3B,CAA+B,UAA/B;AACD;;;yCAEqB;AACpBjF,eAAS4C,aAAT,CAAuB,WAAvB,EAAoCmC,SAApC,CAA8CE,GAA9C,CAAkD,UAAlD;AACD;;;gCAEY;AACX,WAAK,IAAI/G,IAAI,CAAb,EAAgBA,IAAIe,MAAMsG,QAAN,CAAepH,MAAnC,EAA2CD,GAA3C,EAAgD;AAC9Ce,cAAMsG,QAAN,CAAerH,CAAf,EAAkB4D,OAAlB,GAA4B,KAA5B;AACD;AACF;;;gCAEY;AACX,WAAK,IAAI5D,IAAI,CAAb,EAAgBA,IAAIe,MAAMsG,QAAN,CAAepH,MAAnC,EAA2CD,GAA3C,EAAgD;AAC9Ce,cAAMsG,QAAN,CAAerH,CAAf,EAAkB4D,OAAlB,GAA4B,IAA5B;AACD;AACF;;;2CAEuB;AACtB,UAAMyD,WAAWtG,MAAMsG,QAAN,CAAe/D,KAAf,EAAjB;AACA,WAAK,IAAItD,IAAI,CAAb,EAAgBA,IAAIqH,SAASpH,MAA7B,EAAqCD,GAArC,EAA0C;AACxCqH,iBAASrH,CAAT,EAAY0D,QAAZ,CAAqBC,KAArB;AACA5C,cAAMuG,WAAN,CAAkBD,SAASrH,CAAT,CAAlB;AACD;;AAEDe,YAAMC,MAAN;AACD;;;0CAEsB;AACrBc,eAAS4C,aAAT,CAAuB,iBAAvB,EAA0CmC,SAA1C,CAAoDE,GAApD,CAAwD,UAAxD;AACD;;;;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;kBA3SqBxC,I;;;;;;;;;;;;;;;ACHrB;;;;IAWqBgD,K;AACnB,mBAAe;AAAA;;AACb,SAAKlI,IAAL,GAAY,EAAZ;AACA,SAAKI,QAAL,GAAgB,KAAhB;AACA,SAAK+H,YAAL,GAAoB,IAApB;AACAC,WAAOzF,aAAP,GAAuB,KAAKA,aAAL,CAAmBlC,IAAnB,CAAwB,IAAxB,CAAvB;AACA,SAAK4H,kBAAL,GAA0B,IAA1B;AACA,SAAKC,eAAL,GAAuB,IAAvB;AACA,SAAKC,aAAL,GAAqB,IAArB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,SAAL;AACA,SAAK/B,MAAL;AACA,SAAKgC,YAAL,GAAoB,CAApB;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACA,SAAKC,gBAAL,GAAwB,KAAxB;AACA,SAAKC,YAAL,GAAoB,GAApB;AACA,SAAKC,QAAL,GAAgBrG,SAAS4C,aAAT,CAAuB,gBAAvB,CAAhB;AACA,SAAKyD,QAAL,CAAcC,SAAd,GAA0B,CAA1B;AAED;;;;gCAEY;AACX,WAAK,IAAIpI,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3B,aAAK,IAAIqI,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3B,cAAI,CAAC,KAAKhJ,IAAL,CAAUW,CAAV,CAAL,EAAmB;AACjB,iBAAKX,IAAL,CAAUW,CAAV,IAAe,EAAf;AACD;AACD,eAAKX,IAAL,CAAUW,CAAV,EAAaqI,CAAb,IAAkB,KAAlB;AACD;AACF;AACF;;;2BAEO;AACN,WAAKC,IAAL;AACA,WAAKC,eAAL;AACA,WAAKf,YAAL,GAAoB,uBAAY,KAAKnI,IAAjB,CAApB;AACA,WAAKmJ,kBAAL;AACA,WAAKhB,YAAL,CAAkBc,IAAlB;AACA,WAAKG,iBAAL;;AAGA,WAAKf,kBAAL,GAA0B,KAAKgB,qBAAL,EAA1B;AACA,WAAKf,eAAL,GAAuB,KAAKgB,mBAAL,EAAvB;AACA,WAAKf,aAAL,GAAqB,KAAKgB,mBAAL,EAArB;AACA,WAAK7C,MAAL;AACD;;;4BAEQ;AACP,WAAKA,MAAL;AACAjE,eAASC,mBAAT,CAA6B,SAA7B,EAAwCC,aAAxC;AACD;;;6BAES;AACRF,eAAS+D,gBAAT,CAA0B,SAA1B,EAAqC7D,aAArC;AACA,WAAK+D,MAAL;AAED;;;yCAEqB;AACpB,WAAK,IAAI/F,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B,YAAM6I,QAAQ,uBAAY,KAAKxJ,IAAjB,CAAd;AACA,aAAKwI,SAAL,CAAeiB,IAAf,CAAoBD,KAApB;AACAA,cAAME,QAAN,CAAe/I,CAAf;AACD;AACF;;;mCAEe;AACd,UAAMgJ,YAAY,KAAKnB,SAAL,CAAeoB,KAAf,EAAlB;AACA,WAAKpB,SAAL,CAAe,CAAf,EAAkBqB,YAAlB,CAA+B,CAA/B;AACA,WAAKrB,SAAL,CAAe,CAAf,EAAkBqB,YAAlB,CAA+B,CAA/B;AACA,UAAMC,YAAY,uBAAY,KAAK9J,IAAjB,CAAlB;AACA8J,gBAAUJ,QAAV,CAAmB,CAAnB;AACA,WAAKlB,SAAL,CAAeiB,IAAf,CAAoBK,SAApB;AACA,aAAOH,SAAP;AACD;;;sCAEkB;AACjB,UAAMI,UAAU,IAAI5F,SAAS4B,KAAb,EAAhB;AACAgE,cAAQ1F,QAAR,CAAiB2F,SAAjB,CAA2B,OAA3B,EACCC,UADD,CACY,GADZ,EACgB,GADhB,EACqB,EADrB;AAEAvI,YAAMgD,QAAN,CAAeqF,OAAf;AACA,UAAMG,UAAU,IAAI/F,SAAS4B,KAAb,EAAhB;AACAgE,cAAQ1F,QAAR,CAAiB2F,SAAjB,CAA2B,OAA3B,EACCC,UADD,CACY,GADZ,EACgB,GADhB,EACqB,EADrB;AAEAvI,YAAMgD,QAAN,CAAeqF,OAAf;AACA,UAAMI,UAAU,IAAIhG,SAAS4B,KAAb,EAAhB;AACAgE,cAAQ1F,QAAR,CAAiB2F,SAAjB,CAA2B,OAA3B,EACCC,UADD,CACY,GADZ,EACgB,GADhB,EACqB,EADrB;AAEAvI,YAAMgD,QAAN,CAAeqF,OAAf;AACArI,YAAMC,MAAN;AACD;;;4CAEuB;AAAA;;AACtB,aAAOgG,YACL,YAAM;AACJ,YAAI,MAAKQ,YAAL,CAAkB/H,QAAtB,EAAgC;AAC9B,gBAAK+G,OAAL;AACD,SAFD,MAEO,IAAI,MAAKT,MAAL,iBAAJ,EAA4B;AACjC;AACD,SAFM,MAEA,IAAI,MAAKyB,YAAL,CAAkBhI,SAAtB,EAAiC;AACtC,gBAAKiK,UAAL;AACA,gBAAKjC,YAAL,GAAoB,MAAKkC,YAAL,EAApB;AACA,gBAAKlC,YAAL,CAAkBmC,aAAlB;AACA,gBAAKlB,iBAAL;AACD;AACF,OAZI,EAaL,EAbK,CAAP;AAeD;;;0CAEsB;AAAA;;AACrB,aAAOzB,YACL,YAAM;AACJ,YAAI,OAAKjB,MAAL,iBAAJ,EAA4B;AAC1B;AACD,SAFD,MAEO,IAAI,CAAC,OAAKyB,YAAL,CAAkB/H,QAAnB,IACC,CAAC,OAAK+H,YAAL,CAAkBhI,SADxB,EAEK;AACR,iBAAKgI,YAAL,CAAkBnG,IAAlB,CAAuB,WAAvB;AACH;AACF,OATI,EAUL,KAAK6G,YAVA,CAAP;AAYD;;;0CAEsB;AAAA;;AACrB,aAAOlB,YAAY,YAAM;AACvB,YAAI,OAAKgB,SAAL,GAAiB,OAAKD,YAA1B,EAAwC;AACtC,iBAAKC,SAAL,IAAkB,EAAlB;AACA,iBAAKG,QAAL,CAAcC,SAAd,GAA0B,OAAKJ,SAA/B;AACD;AACF,OALM,EAKJ,EALI,CAAP;AAMD;;;8BAEU;AACTZ,oBAAc,KAAKM,kBAAnB;AACAN,oBAAc,KAAKO,eAAnB;AACAP,oBAAc,KAAKQ,aAAnB;AACA9F,eAASC,mBAAT,CAA6B,SAA7B,EAAwCC,aAAxC;AACA,WAAK+D,MAAL;AACAjE,eAAS4C,aAAT,CAAuB,WAAvB,EAAoCmC,SAApC,CAA8CC,MAA9C,CAAqD,UAArD;AACD;;;2BAEO;AACN,UAAMpD,WAAW,IAAIF,SAASoG,QAAb,GACdP,SADc,CACJ,OADI,EACK/D,QADL,CAEblF,OAFa,EAEJG,OAFI,EAEKsJ,WAFL,EAEkBC,YAFlB,CAAjB;AAIA,WAAKC,SAAL,GAAiB,IAAIvG,SAAS4B,KAAb,CAAmB1B,QAAnB,CAAjB;;AAEA3C,YAAMgD,QAAN,CAAe,KAAKgG,SAApB;AACAhJ,YAAMC,MAAN;AACD;;;wCAEoB;AACnBc,eAAS+D,gBAAT,CAA0B,SAA1B,EAAqC7D,aAArC;AACD;;;kCAEc8D,C,EAAG;;AAEhB,UAAI,iBAAWqB,QAAX,CAAoBrB,EAAEkE,IAAtB,CAAJ,EAAiC;AAC/BlE,UAAEmE,cAAF;AACA,aAAKzC,YAAL,CAAkBnG,IAAlB,CAAuByE,EAAEkE,IAAzB;AACD;AACF;;;iCAEa;AACZ,UAAIE,eAAe,CAAnB;;AAEA,WAAK,IAAIlK,IAAI,EAAb,EAAiBA,KAAK,CAAtB,EAAyBA,GAAzB,EAA8B;AAC5B,eAAO,KAAKmK,eAAL,CAAqBnK,CAArB,CAAP,EAAgC;AAC9B,eAAKoK,SAAL,CAAepK,CAAf;AACAkK;AACD;AACF;AACD,UAAIA,eAAe,CAAnB,EAAsB;AACpB,aAAKG,WAAL,CAAiBH,YAAjB;AACD;AACF;;;gCAEYA,Y,EAAc;AACzB,UAAII,eAAJ;AACA,UAAIJ,iBAAiB,CAArB,EAAwB;AACtB,YAAI,KAAKjC,gBAAT,EAA2B;AACzBqC,mBAAS,IAAT;AACD,SAFD,MAEO;AACLA,mBAAS,GAAT;AACA,eAAKrC,gBAAL,GAAwB,IAAxB;AACD;AACF,OAPD,MAOO;AACLqC,iBAASJ,eAAe,GAAxB;AACA,aAAKjC,gBAAL,GAAwB,KAAxB;AACD;;AAED,WAAKF,YAAL,IAAqBuC,MAArB;AACAlD,oBAAc,KAAKO,eAAnB;AACA,UAAM4C,QAAQ,KAAKxC,YAAL,GAAoB,GAAlC;AACA,UAAIwC,QAAQ,EAAZ,EAAgB;AACd,aAAKrC,YAAL,GAAoB,MAAMqC,QAAQ,EAAlC;AACD;;AAED,WAAK5C,eAAL,GAAuB,KAAKgB,mBAAL,EAAvB;AACD;;;oCAEgB3I,C,EAAG;AAClB,WAAK,IAAIqI,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3B,YAAI,CAAC,KAAKhJ,IAAL,CAAUW,CAAV,EAAaqI,CAAb,CAAL,EAAsB;AACpB,iBAAO,KAAP;AACD;AACF;AACD,aAAO,IAAP;AACD;;;8BAEUrI,C,EAAG;AACZ,WAAKwK,sBAAL,CAA4BxK,CAA5B;AACD;;;2CAEuBA,C,EAAG;AACzB,UAAIyK,UAAU,IAAIC,OAAJ,CAAY,UAACC,GAAD;AAAA,eAAQA,KAAR;AAAA,OAAZ,CAAd;AACA,UAAMC,cAAc,EAApB;;AAEA,WAAK,IAAIvC,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3BtH,cAAMuG,WAAN,CAAkB,KAAKjI,IAAL,CAAUW,CAAV,EAAaqI,CAAb,CAAlB;;AAEA,YAAMwC,aAAa,KAAKC,cAAL,CAAoB,KAAKzL,IAAL,CAAUW,CAAV,EAAaqI,CAAb,CAApB,CAAnB;AACAuC,oBAAY9B,IAAZ,CAAiB+B,UAAjB;;AAEA,aAAKxL,IAAL,CAAUW,CAAV,EAAaqI,CAAb,IAAkB,KAAlB;AACD;AACDtH,YAAMC,MAAN;;AAEA,WAAK+J,gBAAL,CAAsBH,WAAtB,EAAmCH,OAAnC;AACA,WAAKO,kBAAL,CAAwBhL,CAAxB,EAA2ByK,OAA3B;AACD;;;qCAEgBG,W,EAAaH,O,EAAS;AACrCA,gBAAUA,QAAQQ,IAAR,CAAa,YAAM;AAC3B,eAAO,IAAIP,OAAJ,CAAY,UAACQ,OAAD,EAAa;AAC9BC,qBAAW,YAAM;AACf,iBAAK,IAAInL,IAAI,CAAb,EAAgBA,IAAI4K,YAAY3K,MAAhC,EAAwCD,GAAxC,EAA6C;AAC3Ce,oBAAMuG,WAAN,CAAkBsD,YAAY5K,CAAZ,CAAlB;AACD;AACDe,kBAAMC,MAAN;AACAkK;AACD,WAND,EAMG,GANH;AAOD,SARM,CAAP;AASD,OAVS,CAAV;AAWD;;;uCAEkBE,U,EAAYX,O,EAAS;AAAA;;AACtC,WAAK,IAAIzK,IAAIoL,aAAa,CAA1B,EAA6BpL,KAAK,CAAlC,EAAqCA,GAArC,EAA0C;AACxC,aAAK,IAAIqI,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3B,cAAI,KAAKhJ,IAAL,CAAUW,CAAV,EAAaqI,CAAb,CAAJ,EAAqB;AAAA;AACnB,kBAAM9E,QAAQ,OAAKlE,IAAL,CAAUW,CAAV,EAAaqI,CAAb,CAAd;AACAoC,wBAAUA,QAAQQ,IAAR,CAAa,YAAM;AAC3B,uBAAO,IAAIP,OAAJ,CAAY,UAACQ,OAAD,EAAa;AAC9BC,6BAAW,YAAM;AACf5H,0BAAMzC,CAAN,IAAWT,WAAX;AACAU,0BAAMC,MAAN;AACAkK;AACD,mBAJD,EAIG,EAJH;AAKD,iBANM,CAAP;AAOD,eARS,CAAV;AASA,qBAAK7L,IAAL,CAAUW,IAAE,CAAZ,EAAeqI,CAAf,IAAoB,OAAKhJ,IAAL,CAAUW,CAAV,EAAaqI,CAAb,CAApB;AACA,qBAAKhJ,IAAL,CAAUW,CAAV,EAAaqI,CAAb,IAAkB,KAAlB;AAZmB;AAapB;AACF;AACF;AACF;;;mCAEcgD,Q,EAAU;AACvB,UAAM3H,WAAW,IAAIF,SAASoG,QAAb,GACdP,SADc,CACJ,OADI,EAEdiC,WAFc,CAEF,OAFE,EAGdhG,QAHc,CAGL,CAHK,EAGF,CAHE,EAGCjF,WAHD,EAGckC,YAHd,CAAjB;;AAKA,UAAMgB,QAAQ,IAAIC,SAAS4B,KAAb,CAAmB1B,QAAnB,CAAd;AACAH,YAAM1C,CAAN,GAAUwK,SAASxK,CAAnB;AACA0C,YAAMzC,CAAN,GAAUuK,SAASvK,CAAnB;AACAC,YAAMgD,QAAN,CAAeR,KAAf;AACAxC,YAAMC,MAAN;AACA,aAAOuC,KAAP;AACD;;;;;;kBA1RkBgE,K;;;;;;;;;;;;;;;ACXrB;;;;;;;;;;;;IAEqBgE,M;;;AACnB,kBAAYlM,IAAZ,EAAkB;AAAA;;AAAA,gHACVA,IADU;;AAGhB,UAAKmB,MAAL,GAAc,GAAd;AACA,UAAKE,KAAL,GAAa,GAAb;AACA,UAAKC,KAAL,GAAa,GAAb;AACA,UAAKC,SAAL,GAAiB,GAAjB;AANgB;AAOjB;;;;iCAEatB,Q,EAAU;AACtB,UAAM8D,YAAY,CAAC9D,QAAD,CAAlB;;AAEA,WAAK,IAAIU,IAAI,CAAb,EAAgBA,KAAK,CAArB,EAAwBA,GAAxB,EAA6B;AAC3BoD,kBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAcU,CAAf,EAAkBV,SAAS,CAAT,CAAlB,CAAf;AACD;;AAED,aAAO8D,SAAP;AACD;;;gCAEY;AACX,cAAQ,KAAKxD,QAAb;AACE,aAAK,CAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,EAAyB,CAAC,CAAD,EAAI,CAAJ,CAAzB,CAAP;AACF,aAAK,EAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAT,EAAmB,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAnB,EAA6B,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAA7B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,EAAyB,CAAC,CAAD,EAAI,CAAJ,CAAzB,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAT,EAAmB,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAnB,EAA6B,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAA7B,CAAP;AACF;AACE;AAVJ;AAYD;;;;;;kBAjCkB2L,M;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;;;IAEqBC,M;;;AACnB,kBAAYnM,IAAZ,EAAkB;AAAA;;AAAA,gHACVA,IADU;;AAGhB,UAAKmB,MAAL,GAAc,GAAd;AACA,UAAKE,KAAL,GAAa,GAAb;AACA,UAAKC,KAAL,GAAa,GAAb;AACA,UAAKC,SAAL,GAAiB,GAAjB;AANgB;AAOjB;;;;iCAEatB,Q,EAAU;AACtB,UAAM8D,YAAY,EAAlB;;AAEA,WAAK,IAAIpD,IAAI,CAAb,EAAgBA,KAAK,CAArB,EAAwBA,GAAxB,EAA6B;AAC3BoD,kBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAcU,CAAf,EAAkBV,SAAS,CAAT,IAAc,CAAhC,CAAf;AACD;AACD8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,CAAD,EAAcA,SAAS,CAAT,CAAd,CAAf;;AAEA,aAAO8D,SAAP;AACD;;;gCAEY;AACX,cAAQ,KAAKxD,QAAb;AACE,aAAK,CAAL;AACE,iBAAO,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,EAA0B,CAAC,CAAD,EAAI,CAAC,CAAL,CAA1B,CAAP;AACF,aAAK,EAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,CAAD,EAAU,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAV,EAAoB,CAAC,CAAC,CAAF,EAAK,CAAL,CAApB,EAA6B,CAAC,CAAD,EAAI,CAAC,CAAL,CAA7B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAC,CAAL,CAAjB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAC,CAAL,CAAlB,EAA2B,CAAC,CAAC,CAAF,EAAK,CAAL,CAA3B,CAAP;AACF;AACE;AAVJ;AAYD;;;;;;kBAlCkB4L,M;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;;;IAEqBC,M;;;AACnB,kBAAYpM,IAAZ,EAAkB;AAAA;;AAAA,gHACVA,IADU;;AAGhB,UAAKmB,MAAL,GAAc,GAAd;AACA,UAAKE,KAAL,GAAa,GAAb;AACA,UAAKC,KAAL,GAAa,GAAb;AACA,UAAKC,SAAL,GAAiB,GAAjB;AANgB;AAOjB;;;;iCAEatB,Q,EAAU;AACtB,UAAM8D,YAAY,CAAC9D,QAAD,CAAlB;;AAEA,WAAK,IAAIU,IAAI,CAAb,EAAgBA,KAAK,CAArB,EAAwBA,GAAxB,EAA6B;AAC3BoD,kBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAcU,CAAf,EAAkBV,SAAS,CAAT,CAAlB,CAAf;AACD;AACD8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,CAAD,EAAcA,SAAS,CAAT,IAAc,CAA5B,CAAf;;AAEA,aAAO8D,SAAP;AACD;;;gCAEY;AACX,cAAQ,KAAKxD,QAAb;AACE,aAAK,CAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,EAA0B,CAAC,CAAC,CAAF,EAAK,CAAL,CAA1B,CAAP;AACF,aAAK,EAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAC,CAAF,EAAK,CAAL,CAAlB,EAA2B,CAAC,CAAD,EAAI,CAAC,CAAL,CAA3B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAC,CAAF,EAAK,CAAL,CAAjB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,EAAU,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAV,EAAoB,CAAC,CAAD,EAAI,CAAC,CAAL,CAApB,EAA6B,CAAC,CAAC,CAAF,EAAK,CAAL,CAA7B,CAAP;AACF;AACE;AAVJ;AAYD;;;;;;kBAlCkB6L,M;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;;;IAEqBA,M;;;AACnB,kBAAYpM,IAAZ,EAAkB;AAAA;;AAAA,gHACVA,IADU;;AAGhB,UAAKmB,MAAL,GAAc,GAAd;AACA,UAAKE,KAAL,GAAa,GAAb;AACA,UAAKC,KAAL,GAAa,GAAb;AACA,UAAKC,SAAL,GAAiB,GAAjB;AANgB;AAOjB;;;;iCAEatB,Q,EAAU;AACtB,UAAM8D,YAAY,CAAC9D,QAAD,CAAlB;;AAEA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAc,CAAf,EAAkBA,SAAS,CAAT,CAAlB,CAAf;AACA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAc,CAAf,EAAkBA,SAAS,CAAT,IAAc,CAAhC,CAAf;AACA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,CAAD,EAAcA,SAAS,CAAT,IAAc,CAA5B,CAAf;;AAEA,aAAO8D,SAAP;AACD;;;gCAEY;AACX,cAAQ,KAAKxD,QAAb;AACE,aAAK,CAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,EAAyB,CAAC,CAAD,EAAI,CAAJ,CAAzB,CAAP;AACF,aAAK,EAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,EAAyB,CAAC,CAAD,EAAI,CAAJ,CAAzB,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,EAAyB,CAAC,CAAD,EAAI,CAAJ,CAAzB,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,EAAyB,CAAC,CAAD,EAAI,CAAJ,CAAzB,CAAP;AACF;AACE;AAVJ;AAYD;;;;;;kBAjCkB6L,M;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;;;IAEqBC,M;;;AACnB,kBAAYrM,IAAZ,EAAkB;AAAA;;AAAA,gHACVA,IADU;;AAGhB,UAAKmB,MAAL,GAAc,GAAd;AACA,UAAKE,KAAL,GAAa,GAAb;AACA,UAAKC,KAAL,GAAa,GAAb;AACA,UAAKC,SAAL,GAAiB,GAAjB;AANgB;AAOjB;;;;iCAEatB,Q,EAAU;AACtB,UAAM8D,YAAY,CAAC9D,QAAD,CAAlB;;AAEA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,CAAD,EAAcA,SAAS,CAAT,IAAc,CAA5B,CAAf;AACA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAc,CAAf,EAAkBA,SAAS,CAAT,IAAc,CAAhC,CAAf;AACA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAc,CAAf,EAAkBA,SAAS,CAAT,IAAc,CAAhC,CAAf;;AAEA,aAAO8D,SAAP;AACD;;;gCAEY;AACX,cAAQ,KAAKxD,QAAb;AACE,aAAK,CAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,CAAD,EAAU,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAV,EAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB,EAA4B,CAAC,CAAC,CAAF,EAAM,CAAN,CAA5B,CAAP;AACF,aAAK,EAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,EAAyB,CAAC,CAAD,EAAK,CAAC,CAAN,CAAzB,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,CAAD,EAAU,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAV,EAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB,EAA4B,CAAC,CAAC,CAAF,EAAM,CAAN,CAA5B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,EAAyB,CAAC,CAAD,EAAK,CAAC,CAAN,CAAzB,CAAP;AACF;AACE;AAVJ;AAYD;;;;;;kBAjCkB8L,M;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;;;IAEqBC,M;;;AACnB,kBAAYtM,IAAZ,EAAkB;AAAA;;AAAA,gHACVA,IADU;;AAGhB,UAAKmB,MAAL,GAAc,GAAd;AACA,UAAKE,KAAL,GAAa,GAAb;AACA,UAAKC,KAAL,GAAa,GAAb;AACA,UAAKC,SAAL,GAAiB,GAAjB;AANgB;AAOjB;;;;iCAEatB,Q,EAAU;AACtB,UAAM8D,YAAY,CAAC9D,QAAD,CAAlB;;AAEA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAc,CAAf,EAAkBA,SAAS,CAAT,CAAlB,CAAf;AACA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAc,CAAf,EAAkBA,SAAS,CAAT,CAAlB,CAAf;AACA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAc,CAAf,EAAkBA,SAAS,CAAT,IAAc,CAAhC,CAAf;;AAEA,aAAO8D,SAAP;AACD;;;gCAEY;AACX,cAAQ,KAAKxD,QAAb;AACE,aAAK,CAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B,CAAP;AACF,aAAK,EAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAC,CAAF,EAAK,CAAL,CAAlB,EAA2B,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAA3B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAC,CAAF,EAAK,CAAL,CAAjB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,EAAU,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAV,EAAoB,CAAC,CAAD,EAAI,CAAC,CAAL,CAApB,EAA6B,CAAC,CAAD,EAAI,CAAJ,CAA7B,CAAP;AACF;AACE;AAVJ;AAYD;;;;;;kBAjCkB+L,M;;;;;;;;;;;;;;;ACFrB;;;;;;;;;;;;IAEqBC,M;;;AACnB,kBAAYvM,IAAZ,EAAkB;AAAA;;AAAA,gHACVA,IADU;;AAGhB,UAAKmB,MAAL,GAAc,GAAd;AACA,UAAKE,KAAL,GAAa,GAAb;AACA,UAAKC,KAAL,GAAa,GAAb;AACA,UAAKC,SAAL,GAAiB,GAAjB;AANgB;AAOjB;;;;iCAEatB,Q,EAAU;AACtB,UAAM8D,YAAY,CAAC,CAAC9D,SAAS,CAAT,IAAc,CAAf,EAAkBA,SAAS,CAAT,CAAlB,CAAD,CAAlB;;AAEA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,IAAc,CAAf,EAAkBA,SAAS,CAAT,IAAc,CAAhC,CAAf;AACA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,CAAD,EAAcA,SAAS,CAAT,IAAc,CAA5B,CAAf;AACA8D,gBAAU0F,IAAV,CAAe,CAACxJ,SAAS,CAAT,CAAD,EAAcA,SAAS,CAAT,IAAc,CAA5B,CAAf;;AAEA,aAAO8D,SAAP;AACD;;;gCAEY;AACX,cAAQ,KAAKxD,QAAb;AACE,aAAK,CAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAlB,EAA4B,CAAC,CAAC,CAAF,EAAK,CAAL,CAA5B,CAAP;AACF,aAAK,EAAL;AACE,iBAAO,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAD,EAAI,CAAC,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAAlB,EAA4B,CAAC,CAAC,CAAF,EAAK,CAAL,CAA5B,CAAP;AACF,aAAK,GAAL;AACE,iBAAO,CAAC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAD,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,EAA0B,CAAC,CAAD,EAAI,CAAJ,CAA1B,CAAP;AACF;AACE;AAVJ;AAYD;;;;;;kBAjCkBgM,M;;;;;;;;;ACFrB;;;;;;AAEAnE,OAAOlC,YAAP,GAAsB,IAAtB;AACAkC,OAAOjC,aAAP,GAAuB,GAAvB;AACAiC,OAAOrH,OAAP,GAAiB,GAAjB;AACAqH,OAAOlH,OAAP,GAAiB,CAAjB;AACAkH,OAAOoC,WAAP,GAAqB,GAArB;AACApC,OAAOqC,YAAP,GAAsB,GAAtB;AACArC,OAAOpH,WAAP,GAAqBwJ,cAAc,EAAnC;AACApC,OAAOlF,YAAP,GAAsBuH,eAAe,EAArC;;AAEAhI,SAAS+D,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD4B,SAAO1G,KAAP,GAAe,IAAIyC,SAASqI,KAAb,CAAmB,YAAnB,CAAf;AACA,uBAAW7F,IAAX;AACD,CAHD;;AAKA,wB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d1519e1b5d78912fb3ba","import {\n  copyArr,\n  randomColor,\n  outsideGrid,\n  drawBlock\n} from '../util';\n\nexport default class BasePiece {\n  constructor (grid) {\n    this.startPos = [-1, 4];\n    this.grid = grid;\n    this.blocks = [];\n    this.finalMove = false;\n    this.gameOver = false;\n    this.allPositions = this.getPositions(this.startPos);\n    this.rotation = 0;\n    this.drawCondition = this.drawCondition.bind(this);\n    this.drawConditionDown = this.drawConditionDown.bind(this);\n  }\n\n\n  draw () {\n    for (let i = 0; i < this.allPositions.length; i++) {\n      const pos = this.allPositions[i];\n      const posX = BOARD_X + pos[1] * BLOCK_WIDTH;\n      const posY = BOARD_Y + pos[0] * BLOCK_WIDTH;\n      this.blocks[i] = drawBlock(posX, posY, this.letter);\n    }\n  }\n\n  drawSide(circleNum) {\n    for (let i = 0; i < this.allPositions.length; i++) {\n      const pos = this.allPositions[i];\n      const posX = this.sideX + pos[1] * BLOCK_WIDTH;\n      const posY = this.sideY + this.sideDelta * circleNum + pos[0] * BLOCK_WIDTH;\n      this.blocks[i] = drawBlock(posX, posY, this.letter);\n    }\n  }\n\n  moveToCircle (circleNum) {\n    for (let i = 0; i < this.allPositions.length; i++) {\n      const pos = this.allPositions[i];\n      this.blocks[i].x = this.sideX + pos[1] * BLOCK_WIDTH;\n      this.blocks[i].y = this.sideY + this.sideDelta * circleNum + pos[0] * BLOCK_WIDTH;\n    }\n    stage.update();\n  }\n\n  moveSideToTop () {\n    for (let i = 0; i < this.allPositions.length; i++) {\n      const pos = this.allPositions[i];\n      this.blocks[i].x = BOARD_X + pos[1] * BLOCK_WIDTH;\n      this.blocks[i].y = BOARD_Y + pos[0] * BLOCK_WIDTH;\n    }\n    stage.update();\n  }\n\n  move (direction) {\n    switch (direction) {\n      case 'ArrowDown':\n        this.generalMove(0, 1, [0, 1], this.drawConditionDown);\n        return;\n      case 'ArrowRight':\n        this.generalMove(1, 1, [1, 0], this.drawCondition);\n        return;\n      case 'ArrowLeft':\n        this.generalMove(1, -1, [-1, 0], this.drawCondition);\n        return;\n      case 'ArrowUp':\n        this.rotate();\n        return;\n      case 'Space':\n        this.slam();\n        return;\n      default:\n        return;\n    }\n  }\n\n  slam () {\n    while (!this.finalMove) {\n      this.move('ArrowDown');\n    }\n  }\n\n  generalMove (index, posDelta, blocksDelta, conditionMethod) {\n    const previousPositions = copyArr(this.allPositions);\n\n    for (let i = 0; i < this.allPositions.length; i++) {\n      this.allPositions[i][index] += posDelta;\n    }\n\n    if (conditionMethod(previousPositions)) {\n      return;\n    }\n\n    this.updateBlocks(blocksDelta);\n  }\n\n  drawCondition (previousPositions) {\n    if (this.outOfBounds()) {\n      this.allPositions = previousPositions;\n      return true;\n    }\n\n    return false;\n  }\n\n  drawConditionDown (previousPositions) {\n    if (this.tooClose()) {\n      this.allPositions = previousPositions;\n      document.removeEventListener('keydown', handleKeydown);\n      this.setPositionsOnGrid();\n      this.finalizeBlocks();\n      this.finalMove = true;\n      return true;\n    } else if (this.outOfBounds()) {\n      this.allPositions = previousPositions;\n      return true;\n    }\n  }\n\n  outOfBounds () {\n    for (let i = 0; i < this.allPositions.length; i++) {\n      let row = this.allPositions[i][0];\n      let col = this.allPositions[i][1];\n      if (outsideGrid(row, col)) {\n        return true;\n      }\n      if (this.onTopOfBlock(row, col)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  tooClose () {\n    for (let i = 0; i < this.allPositions.length; i++) {\n      let row = this.allPositions[i][0];\n      let col = this.allPositions[i][1];\n      if (row < 0) {\n        continue;\n      } else if (row >= 20 || this.grid[row][col]) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  onTopOfBlock (row, col) {\n    if (this.grid[row] && this.grid[row][col]) {\n      return true;\n    }\n  }\n\n  updateBlocks (delta) {\n    for (let i = 0; i < this.blocks.length; i++) {\n      this.blocks[i].x += BLOCK_WIDTH * delta[0];\n      this.blocks[i].y += BLOCK_HEIGHT * delta[1];\n    }\n    stage.update();\n  }\n\n  finalizeBlocks () {\n    for (let i = 0; i < this.allPositions.length; i++) {\n      const pos = this.allPositions[i];\n      const posX = BOARD_X + pos[1] * BLOCK_WIDTH;\n      const posY = BOARD_Y + pos[0] * BLOCK_HEIGHT;\n      this.blocks[i].x = posX;\n      this.blocks[i].y = posY;\n    }\n  }\n\n  setPositionsOnGrid () {\n    for (let i = 0; i < this.allPositions.length; i++) {\n      const row = this.allPositions[i][0];\n      const col = this.allPositions[i][1];\n      if (!this.grid[row]) {\n        this.gameOver = true;\n        return;\n      }\n      this.grid[row][col] = this.blocks[i];\n    }\n  }\n\n\n  rotate () {\n    const previousPositions = copyArr(this.allPositions);\n    const deltas = this.getDeltas();\n\n    this.updateAllPositions(deltas);\n\n    if (this.drawCondition(previousPositions)) {\n      return;\n    }\n\n    this.rotation = (this.rotation + 90) % 360;\n    this.updateRotationBlocks(deltas);\n  }\n\n  updateAllPositions(deltas) {\n    for (let i = 0; i < this.allPositions.length; i++) {\n      this.allPositions[i][0] += deltas[i][1];\n      this.allPositions[i][1] += deltas[i][0];\n    }\n  }\n\n  updateRotationBlocks (deltas) {\n    for (let i = 0; i < this.blocks.length; i++) {\n      this.blocks[i].x += BLOCK_WIDTH * deltas[i][0];\n      this.blocks[i].y += BLOCK_HEIGHT * deltas[i][1];\n    }\n\n    stage.update();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pieces/base_piece.js","import IPiece from './pieces/i_piece';\nimport LPiece from './pieces/l_piece';\nimport JPiece from './pieces/j_piece';\nimport OPiece from './pieces/o_piece';\nimport SPiece from './pieces/s_piece';\nimport ZPiece from './pieces/z_piece';\nimport TPiece from './pieces/t_piece';\n\nexport const RUNNING = 'RUNNING';\nexport const PAUSED = 'PAUSED';\nexport const UNINITIALIZED = 'UNINITIALIZED';\nexport const GAMEOVER = 'GAMEOVER';\n\nexport function copyArr (positions) {\n  const newArr = [];\n\n  for (let i = 0; i < positions.length; i++) {\n    newArr[i] = positions[i].slice();\n  }\n\n  return newArr;\n}\n\nexport function outsideGrid (row, col) {\n  if (row > 19 || col < 0 || col > 9) {\n    return true;\n  }\n  return false;\n}\n\nexport function drawBlock (posX, posY, letter) {\n  const block = new createjs.Bitmap(`./images/${letter}_block.png`);\n\n  block.graphics = {};\n  block.graphics.clear = () => {\n    block.visible = false;\n  }\n\n  block.image.onload = () => {\n    block.x = posX;\n    block.y = posY;\n\n    stage.addChild(block);\n    stage.update();\n  }\n\n  return block;\n}\n\nconst PIECES = ['L', 'I', 'J', 'O', 'S', 'Z', 'T'];\nexport const DIRECTIONS = [\n  'ArrowLeft',\n  'ArrowRight',\n  'ArrowUp',\n  'ArrowDown',\n  'Space'\n];\n\nfunction getRandomType () {\n  const index = Math.floor(Math.random() * 7);\n  return PIECES[index];\n}\n\nexport function createPiece (grid, type) {\n  if (!type) {\n    type = getRandomType();\n  }\n  // type = 'I';\n\n  switch (type) {\n    case 'I':\n      return new IPiece(grid);\n    case 'L':\n      return new LPiece(grid);\n    case 'J':\n      return new JPiece(grid);\n    case 'O':\n      return new OPiece(grid);\n    case 'S':\n      return new SPiece(grid);\n    case 'Z':\n      return new ZPiece(grid);\n    case 'T':\n      return new TPiece(grid);\n    default:\n      return;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","import Board from './board';\nimport { RUNNING, PAUSED, UNINITIALIZED, GAMEOVER} from './util';\n\nexport default class Game {\n  constructor () {\n    debugger\n    this.board = new Board();\n    this.startScreen = document.querySelector('.start');\n    this.pauseScreen = document.querySelector('.pause');\n    this.startInterval = null;\n    this.music = document.getElementsByTagName('audio')[0];\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n  }\n\n  init () {\n    const bg = new Image();\n    bg.src = './images/background.jpg';\n    bg.onload = () => {\n      const backgroundRect = new createjs.Shape();\n      backgroundRect.graphics.beginBitmapFill(bg)\n      .drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n      stage.addChild(backgroundRect);\n      stage.update();\n      this.removeLoadingScreen();\n      this.showStartScreen();\n      this.music.play();\n\n      this.startScreen.parentElement.addEventListener('click', this.handleClick);\n      document.addEventListener('keydown', this.handleKeydown);\n    }\n  }\n\n  handleClick (e) {\n      switch (this.board.status) {\n        case UNINITIALIZED:\n          this.board.init();\n          this.hideStartScreen();\n          break;\n        case RUNNING:\n          this.board.pause();\n          this.hideBoard();\n          this.showPauseScreen();\n          break;\n        case PAUSED:\n          this.board.resume();\n          this.showBoard();\n          this.hidePauseScreen();\n          break;\n        case GAMEOVER:\n          this.board.endGame();\n          this.hidePauseScreen();\n          this.hideStartScreen();\n          this.hideGameOverScreen();\n          this.removeBoardFromStage();\n          this.board = new Board();\n          this.board.init();\n          break;\n        default:\n          return;\n      }\n  }\n\n  handleKeydown (e) {\n    if (e.key === 'r') {\n      if (this.board.status !== UNINITIALIZED) {\n        this.board.endGame();\n        this.hidePauseScreen();\n        this.hideStartScreen();\n        this.hideGameOverScreen();\n        this.removeBoardFromStage();\n        this.board = new Board();\n        this.board.init();\n      }\n    } else if (e.key === 'q') {\n      if (this.board.status !== UNINITIALIZED) {\n        this.board.endGame();\n        this.hidePauseScreen();\n        this.hideStartScreen();\n        this.hideGameOverScreen();\n        this.hideBoard();\n        this.removeBoardFromStage();\n        this.board = new Board();\n        this.showStartScreen();\n      }\n    }\n\n    if (e.key === 'm') {\n      this.music.paused ? this.music.play() : this.music.pause();\n    }\n  }\n\n  showStartScreen () {\n    for (let i = 1; i < 4; i++) {\n      document.querySelector(`.piece-${i} div`).classList.remove('hide-back');\n    }\n    this.startScreen.parentElement.classList.add('remove-border');\n\n    this.startInterval = setInterval(() => {\n      if (Array.from(this.startScreen.classList).includes('hide-div')) {\n        this.startScreen.classList.remove('hide-div');\n      } else {\n        this.startScreen.classList.add('hide-div')\n      }\n    }, 600)\n  }\n\n  hideStartScreen () {\n    this.startScreen.parentElement.classList.remove('remove-border');\n    clearInterval(this.startInterval);\n    this.startScreen.classList.add('hide-div');\n    for (let i = 1; i < 4; i++) {\n      document.querySelector(`.piece-${i} div`).classList.add('hide-back');\n    }\n  }\n\n  showPauseScreen () {\n    this.pauseScreen.classList.remove('hide-div');\n  }\n\n  hidePauseScreen () {\n    this.pauseScreen.classList.add('hide-div');\n  }\n\n  hideGameOverScreen () {\n    document.querySelector('.gameover').classList.add('hide-div');\n  }\n\n  hideBoard () {\n    for (let i = 1; i < stage.children.length; i++) {\n      stage.children[i].visible = false;\n    }\n  }\n\n  showBoard () {\n    for (let i = 1; i < stage.children.length; i++) {\n      stage.children[i].visible = true;\n    }\n  }\n\n  removeBoardFromStage () {\n    const children = stage.children.slice();\n    for (let i = 2; i < children.length; i++) {\n      children[i].graphics.clear();\n      stage.removeChild(children[i]);\n    }\n\n    stage.update();\n  }\n\n  removeLoadingScreen () {\n    document.querySelector('.canvas-loading').classList.add('hide-div');\n  }\n}\n// import Board from './board';\n// import { RUNNING, PAUSED, UNINITIALIZED, GAMEOVER} from './util';\n//\n// export default class Game {\n//   constructor () {\n//     this.board = new Board();\n//     this.startScreen = document.querySelector('.start');\n//     this.pauseScreen = document.querySelector('.pause');\n//     this.startInterval = null;\n//     this.music = document.getElementsByTagName('audio')[0];\n//     this.showStartScreen();\n//\n//     this.handleClick = this.handleClick.bind(this);\n//     this.handleKeydown = this.handleKeydown.bind(this);\n//   }\n//\n//   init () {\n//     const bg = new Image();\n//     bg.src = './images/background.jpg';\n//     bg.onload = () => {\n//       const backgroundRect = new createjs.Shape();\n//       backgroundRect.graphics.beginBitmapFill(bg)\n//       .drawRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n//       stage.addChild(backgroundRect);\n//       stage.update();\n//\n//       this.startScreen.parentElement.addEventListener('click', this.handleClick);\n//       document.addEventListener('keydown', this.handleKeydown);\n//     }\n//   }\n//\n//   handleClick (e) {\n//       switch (this.board.status) {\n//         case UNINITIALIZED:\n//           this.board.init();\n//           this.hideStartScreen();\n//           break;\n//         case RUNNING:\n//           this.board.pause();\n//           this.hideBoard();\n//           this.showPauseScreen();\n//           break;\n//         case PAUSED:\n//           this.board.resume();\n//           this.showBoard();\n//           this.hidePauseScreen();\n//           break;\n//         case GAMEOVER:\n//           this.board.endGame();\n//           this.hidePauseScreen();\n//           this.hideStartScreen();\n//           this.hideGameOverScreen();\n//           this.removeBoardFromStage();\n//           this.board = new Board();\n//           this.board.init();\n//           break;\n//         default:\n//           return;\n//       }\n//   }\n//\n//   handleKeydown (e) {\n//     if (e.key === 'r') {\n//       if (this.board.status !== UNINITIALIZED) {\n//         this.board.endGame();\n//         this.hidePauseScreen();\n//         this.hideStartScreen();\n//         this.hideGameOverScreen();\n//         this.removeBoardFromStage();\n//         this.board = new Board();\n//         this.board.init();\n//       }\n//     } else if (e.key === 'q') {\n//       if (this.board.status !== UNINITIALIZED) {\n//         this.board.endGame();\n//         this.hidePauseScreen();\n//         this.hideStartScreen();\n//         this.hideGameOverScreen();\n//         this.hideBoard();\n//         this.removeBoardFromStage();\n//         this.board = new Board();\n//         this.showStartScreen();\n//       }\n//     }\n//\n//     if (e.key === 'm') {\n//       this.music.paused ? this.music.play() : this.music.pause();\n//     }\n//   }\n//\n//   showStartScreen () {\n//     for (let i = 1; i < 4; i++) {\n//       document.querySelector(`.piece-${i} div`).classList.remove('hide-back');\n//     }\n//     this.startScreen.parentElement.classList.add('remove-border');\n//\n//     this.startInterval = setInterval(() => {\n//       if (Array.from(this.startScreen.classList).includes('hide-div')) {\n//         this.startScreen.classList.remove('hide-div');\n//       } else {\n//         this.startScreen.classList.add('hide-div')\n//       }\n//     }, 600)\n//   }\n//\n//   hideStartScreen () {\n//     this.startScreen.parentElement.classList.remove('remove-border');\n//     clearInterval(this.startInterval);\n//     this.startScreen.classList.add('hide-div');\n//     for (let i = 1; i < 4; i++) {\n//       document.querySelector(`.piece-${i} div`).classList.add('hide-back');\n//     }\n//   }\n//\n//   showPauseScreen () {\n//     this.pauseScreen.classList.remove('hide-div');\n//   }\n//\n//   hidePauseScreen () {\n//     this.pauseScreen.classList.add('hide-div');\n//   }\n//\n//   hideGameOverScreen () {\n//     document.querySelector('.gameover').classList.add('hide-div');\n//   }\n//\n//   hideBoard () {\n//     for (let i = 1; i < stage.children.length; i++) {\n//       stage.children[i].visible = false;\n//     }\n//   }\n//\n//   showBoard () {\n//     for (let i = 1; i < stage.children.length; i++) {\n//       stage.children[i].visible = true;\n//     }\n//   }\n//\n//   removeBoardFromStage () {\n//     const children = stage.children.slice();\n//     for (let i = 2; i < children.length; i++) {\n//       children[i].graphics.clear();\n//       stage.removeChild(children[i]);\n//     }\n//\n//     stage.update();\n//   }\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","import {\n  createPiece,\n  getRandomType,\n  DIRECTIONS,\n  RUNNING,\n  PAUSED,\n  UNINITIALIZED,\n  GAMEOVER\n} from './util.js';\n\n\nexport default class Board {\n  constructor () {\n    this.grid = [];\n    this.gameOver = false;\n    this.currentPiece = null;\n    window.handleKeydown = this.handleKeydown.bind(this);\n    this.completionInterval = null;\n    this.descendInterval = null;\n    this.scoreInterval = null;\n    this.nextThree = [];\n    this.setupGrid();\n    this.status = UNINITIALIZED;\n    this.currentScore = 0;\n    this.lastScore = 0;\n    this.backToBackTetris = false;\n    this.currentSpeed = 600;\n    this.scoreDiv = document.querySelector('.current-score');\n    this.scoreDiv.innerText = 0;\n\n  }\n\n  setupGrid () {\n    for (let i = 0; i < 20; i++) {\n      for (let j = 0; j < 10; j++) {\n        if (!this.grid[i]) {\n          this.grid[i] = [];\n        }\n        this.grid[i][j] = false;\n      }\n    }\n  }\n\n  init () {\n    this.draw();\n    this.drawSideCircles();\n    this.currentPiece = createPiece(this.grid);\n    this.getNextThreePieces();\n    this.currentPiece.draw();\n    this.addEventListeners();\n\n\n    this.completionInterval = this.handlePieceCompletion();\n    this.descendInterval = this.descendCurrentPiece();\n    this.scoreInterval = this.updateScoreInterval();\n    this.status = RUNNING;\n  }\n\n  pause () {\n    this.status = PAUSED;\n    document.removeEventListener('keydown', handleKeydown);\n  }\n\n  resume () {\n    document.addEventListener('keydown', handleKeydown);\n    this.status = RUNNING;\n\n  }\n\n  getNextThreePieces () {\n    for (let i = 0; i < 3; i++) {\n      const piece = createPiece(this.grid);\n      this.nextThree.push(piece);\n      piece.drawSide(i);\n    }\n  }\n\n  getNextPiece () {\n    const nextPiece = this.nextThree.shift();\n    this.nextThree[0].moveToCircle(0);\n    this.nextThree[1].moveToCircle(1);\n    const lastPiece = createPiece(this.grid);\n    lastPiece.drawSide(2);\n    this.nextThree.push(lastPiece);\n    return nextPiece;\n  }\n\n  drawSideCircles () {\n    const circle1 = new createjs.Shape();\n    circle1.graphics.beginFill('black')\n    .drawCircle(825,210, 70);\n    stage.addChild(circle1);\n    const circle2 = new createjs.Shape();\n    circle1.graphics.beginFill('black')\n    .drawCircle(825,353, 70);\n    stage.addChild(circle1);\n    const circle3 = new createjs.Shape();\n    circle1.graphics.beginFill('black')\n    .drawCircle(825,496, 70);\n    stage.addChild(circle1);\n    stage.update();\n  }\n\n  handlePieceCompletion() {\n    return setInterval(\n      () => {\n        if (this.currentPiece.gameOver) {\n          this.endGame();\n        } else if (this.status === PAUSED) {\n          return;\n        } else if (this.currentPiece.finalMove) {\n          this.clearLines();\n          this.currentPiece = this.getNextPiece();\n          this.currentPiece.moveSideToTop();\n          this.addEventListeners();\n        }\n      },\n      10\n    );\n  }\n\n  descendCurrentPiece () {\n    return setInterval(\n      () => {\n        if (this.status === PAUSED) {\n          return;\n        } else if (!this.currentPiece.gameOver &&\n                    !this.currentPiece.finalMove\n                  ) {\n            this.currentPiece.move('ArrowDown');\n        }\n      },\n      this.currentSpeed\n    )\n  }\n\n  updateScoreInterval () {\n    return setInterval(() => {\n      if (this.lastScore < this.currentScore) {\n        this.lastScore += 10;\n        this.scoreDiv.innerText = this.lastScore;\n      }\n    }, 50);\n  }\n\n  endGame () {\n    clearInterval(this.completionInterval);\n    clearInterval(this.descendInterval);\n    clearInterval(this.scoreInterval);\n    document.removeEventListener('keydown', handleKeydown);\n    this.status = GAMEOVER\n    document.querySelector('.gameover').classList.remove('hide-div');\n  }\n\n  draw () {\n    const graphics = new createjs.Graphics()\n      .beginFill(\"black\").drawRect(\n        BOARD_X, BOARD_Y, BOARD_WIDTH, BOARD_HEIGHT\n      );\n    this.boardRect = new createjs.Shape(graphics);\n\n    stage.addChild(this.boardRect);\n    stage.update();\n  }\n\n  addEventListeners () {\n    document.addEventListener('keydown', handleKeydown);\n  }\n\n  handleKeydown (e) {\n\n    if (DIRECTIONS.includes(e.code)) {\n      e.preventDefault();\n      this.currentPiece.move(e.code);\n    }\n  }\n\n  clearLines () {\n    let linesCleared = 0;\n\n    for (let i = 19; i >= 0; i--) {\n      while (this.shouldClearLine(i)) {\n        this.clearLine(i);\n        linesCleared++;\n      }\n    }\n    if (linesCleared > 0) {\n      this.updateScore(linesCleared);\n    }\n  }\n\n  updateScore (linesCleared) {\n    let points;\n    if (linesCleared === 4) {\n      if (this.backToBackTetris) {\n        points = 1200;\n      } else {\n        points = 800;\n        this.backToBackTetris = true;\n      }\n    } else {\n      points = linesCleared * 100;\n      this.backToBackTetris = false;\n    }\n\n    this.currentScore += points;\n    clearInterval(this.descendInterval);\n    const level = this.currentScore / 250;\n    if (level < 11) {\n      this.currentSpeed = 600 - level * 48;\n    }\n\n    this.descendInterval = this.descendCurrentPiece();\n  }\n\n  shouldClearLine (i) {\n    for (let j = 0; j < 10; j++) {\n      if (!this.grid[i][j]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  clearLine (i) {\n    this.clearLineThenBringDown(i);\n  }\n\n  clearLineThenBringDown (i) {\n    let cascade = new Promise((res)=>(res()));\n    const whiteBlocks = [];\n\n    for (let j = 0; j < 10; j++) {\n      stage.removeChild(this.grid[i][j]);\n\n      const whiteBlock = this.drawWhiteBlock(this.grid[i][j]);\n      whiteBlocks.push(whiteBlock);\n\n      this.grid[i][j] = false;\n    }\n    stage.update();\n\n    this.clearWhiteBlocks(whiteBlocks, cascade);\n    this.moveEverythingDown(i, cascade);\n  }\n\n  clearWhiteBlocks(whiteBlocks, cascade) {\n    cascade = cascade.then(() => {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          for (let i = 0; i < whiteBlocks.length; i++) {\n            stage.removeChild(whiteBlocks[i]);\n          }\n          stage.update();\n          resolve();\n        }, 100)\n      })\n    })\n  }\n\n  moveEverythingDown(clearedRow, cascade) {\n    for (let i = clearedRow - 1; i >= 0; i--) {\n      for (let j = 0; j < 10; j++) {\n        if (this.grid[i][j]) {\n          const block = this.grid[i][j];\n          cascade = cascade.then(() => {\n            return new Promise((resolve) => {\n              setTimeout(() => {\n                block.y += BLOCK_WIDTH;\n                stage.update();\n                resolve();\n              }, 50)\n            })\n          })\n          this.grid[i+1][j] = this.grid[i][j];\n          this.grid[i][j] = false;\n        }\n      }\n    }\n  }\n\n  drawWhiteBlock(oldBlock) {\n    const graphics = new createjs.Graphics()\n      .beginFill(\"white\")\n      .beginStroke('black')\n      .drawRect(0, 0, BLOCK_WIDTH, BLOCK_HEIGHT);\n\n    const block = new createjs.Shape(graphics);\n    block.x = oldBlock.x;\n    block.y = oldBlock.y;\n    stage.addChild(block)\n    stage.update();\n    return block;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","import BasePiece from './base_piece';\n\nexport default class IPiece extends BasePiece {\n  constructor(grid) {\n    super(grid);\n\n    this.letter = 'i';\n    this.sideX = 690;\n    this.sideY = 268;\n    this.sideDelta = 144;\n  }\n\n  getPositions (startPos) {\n    const positions = [startPos];\n\n    for (let i = 1; i <= 3; i++) {\n      positions.push([startPos[0] - i, startPos[1]])\n    }\n\n    return positions;\n  }\n\n  getDeltas () {\n    switch (this.rotation) {\n      case 0:\n        return [[0, 0], [1, 1], [2, 2], [3 ,3]];\n      case 90:\n        return [[0, 0], [-1, -1], [-2, -2], [-3 ,-3]];\n      case 180:\n        return [[0, 0], [1, 1], [2, 2], [3 ,3]];\n      case 270:\n        return [[0, 0], [-1, -1], [-2, -2], [-3 ,-3]];\n      default:\n        return;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pieces/i_piece.js","import BasePiece from './base_piece';\n\nexport default class JPiece extends BasePiece {\n  constructor(grid) {\n    super(grid);\n\n    this.letter = 'j';\n    this.sideX = 671;\n    this.sideY = 249;\n    this.sideDelta = 144;\n  }\n\n  getPositions (startPos) {\n    const positions = [];\n\n    for (let i = 0; i <= 2; i++) {\n      positions.push([startPos[0] - i, startPos[1] + 1])\n    }\n    positions.push([startPos[0], startPos[1]]);\n\n    return positions;\n  }\n\n  getDeltas () {\n    switch (this.rotation) {\n      case 0:\n        return [[-1, 0], [0, 1], [1, 2], [0 ,-1]]\n      case 90:\n        return [[0, -2], [-1, -1], [-2, 0], [1 ,-1]]\n      case 180:\n        return [[2, 1], [1, 0], [0, -1], [1 ,2]]\n      case 270:\n        return [[-1, 1], [0, 0], [1, -1], [-2 ,0]]\n      default:\n        return;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pieces/j_piece.js","import BasePiece from './base_piece';\n\nexport default class LPiece extends BasePiece {\n  constructor(grid) {\n    super(grid);\n\n    this.letter = 'l';\n    this.sideX = 678;\n    this.sideY = 251;\n    this.sideDelta = 144;\n  }\n\n  getPositions (startPos) {\n    const positions = [startPos];\n\n    for (let i = 1; i <= 2; i++) {\n      positions.push([startPos[0] - i, startPos[1]])\n    }\n    positions.push([startPos[0], startPos[1] + 1]);\n\n    return positions;\n  }\n\n  getDeltas () {\n    switch (this.rotation) {\n      case 0:\n        return [[0, -1], [1, 0], [2, 1], [-1 ,0]]\n      case 90:\n        return [[1, -1], [0, 0], [-1, 1], [0 ,-2]]\n      case 180:\n        return [[1, 2], [0, 1], [-1, 0], [2 ,1]]\n      case 270:\n        return [[-2, 0], [-1, -1], [0, -2], [-1 ,1]]\n      default:\n        return;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pieces/l_piece.js","import BasePiece from './base_piece';\n\nexport default class LPiece extends BasePiece {\n  constructor(grid) {\n    super(grid);\n\n    this.letter = 'o';\n    this.sideX = 675;\n    this.sideY = 238;\n    this.sideDelta = 144;\n  }\n\n  getPositions (startPos) {\n    const positions = [startPos];\n\n    positions.push([startPos[0] - 1, startPos[1]])\n    positions.push([startPos[0] - 1, startPos[1] + 1])\n    positions.push([startPos[0], startPos[1] + 1]);\n\n    return positions;\n  }\n\n  getDeltas () {\n    switch (this.rotation) {\n      case 0:\n        return [[0, 0], [0, 0], [0, 0], [0 ,0]]\n      case 90:\n        return [[0, 0], [0, 0], [0, 0], [0 ,0]]\n      case 180:\n        return [[0, 0], [0, 0], [0, 0], [0 ,0]]\n      case 270:\n        return [[0, 0], [0, 0], [0, 0], [0 ,0]]\n      default:\n        return;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pieces/o_piece.js","import BasePiece from './base_piece';\n\nexport default class SPiece extends BasePiece {\n  constructor(grid) {\n    super(grid);\n\n    this.letter = 's';\n    this.sideX = 661;\n    this.sideY = 238;\n    this.sideDelta = 144;\n  }\n\n  getPositions (startPos) {\n    const positions = [startPos];\n\n    positions.push([startPos[0], startPos[1] + 1])\n    positions.push([startPos[0] - 1, startPos[1] + 1])\n    positions.push([startPos[0] - 1, startPos[1] + 2]);\n\n    return positions;\n  }\n\n  getDeltas () {\n    switch (this.rotation) {\n      case 0:\n        return [[0, -2], [-1, -1], [0, 0], [-1 , 1]]\n      case 90:\n        return [[0, 2], [1, 1], [0, 0], [1 , -1]]\n      case 180:\n        return [[0, -2], [-1, -1], [0, 0], [-1 , 1]]\n      case 270:\n        return [[0, 2], [1, 1], [0, 0], [1 , -1]]\n      default:\n        return;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pieces/s_piece.js","import BasePiece from './base_piece';\n\nexport default class TPiece extends BasePiece {\n  constructor(grid) {\n    super(grid);\n\n    this.letter = 't';\n    this.sideX = 680;\n    this.sideY = 252;\n    this.sideDelta = 144;\n  }\n\n  getPositions (startPos) {\n    const positions = [startPos];\n\n    positions.push([startPos[0] - 1, startPos[1]])\n    positions.push([startPos[0] - 2, startPos[1]])\n    positions.push([startPos[0] - 1, startPos[1] + 1]);\n\n    return positions;\n  }\n\n  getDeltas () {\n    switch (this.rotation) {\n      case 0:\n        return [[0, -1], [1, 0], [2, 1], [0 ,1]];\n      case 90:\n        return [[1, -1], [0, 0], [-1, 1], [-1 ,-1]]\n      case 180:\n        return [[1, 2], [0, 1], [-1, 0], [1 ,0]]\n      case 270:\n        return [[-2, 0], [-1, -1], [0, -2], [0 ,0]]\n      default:\n        return;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pieces/t_piece.js","import BasePiece from './base_piece';\n\nexport default class ZPiece extends BasePiece {\n  constructor(grid) {\n    super(grid);\n\n    this.letter = 'z';\n    this.sideX = 660;\n    this.sideY = 239;\n    this.sideDelta = 144;\n  }\n\n  getPositions (startPos) {\n    const positions = [[startPos[0] - 1, startPos[1]]];\n\n    positions.push([startPos[0] - 1, startPos[1] + 1])\n    positions.push([startPos[0], startPos[1] + 1])\n    positions.push([startPos[0], startPos[1] + 2]);\n\n    return positions;\n  }\n\n  getDeltas () {\n    switch (this.rotation) {\n      case 0:\n        return [[1, -1], [0, 0], [-1, -1], [-2 ,0]]\n      case 90:\n        return [[-1, 1], [0, 0], [1, 1], [2 ,0]]\n      case 180:\n        return [[1, -1], [0, 0], [-1, -1], [-2 ,0]]\n      case 270:\n        return [[-1, 1], [0, 0], [1, 1], [2 ,0]]\n      default:\n        return;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pieces/z_piece.js","import Game from './game';\n\nwindow.CANVAS_WIDTH = 1000;\nwindow.CANVAS_HEIGHT = 600;\nwindow.BOARD_X = 350;\nwindow.BOARD_Y = 0;\nwindow.BOARD_WIDTH = 300;\nwindow.BOARD_HEIGHT = 600;\nwindow.BLOCK_WIDTH = BOARD_WIDTH / 10;\nwindow.BLOCK_HEIGHT = BOARD_HEIGHT / 20;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  window.stage = new createjs.Stage(\"demoCanvas\");\n  new Game().init();\n});\n\n//TODO: FIX PAUSE BUTTON\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tetris.js"],"sourceRoot":""}